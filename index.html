<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Wave Simulation</title>

    <!-- PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>

    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #87CEEB; /* sky blue */
        }
        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <canvas id="waveCanvas"></canvas>

    <py-script>
from js import document, window
import math, random

canvas = document.getElementById("waveCanvas")
ctx = canvas.getContext("2d")

def resize_canvas():
    canvas.width = window.innerWidth
    canvas.height = window.innerHeight

resize_canvas()
window.onresize = resize_canvas

A = 20
wavelength = 200
speed = 0.05
wind_strength = 1

def draw(t):
    ctx.clearRect(0, 0, canvas.width, canvas.height)
    ctx.fillStyle = "#1e90ff"
    ctx.fillRect(0, 0, canvas.width, canvas.height)

    ctx.lineWidth = 2
    ctx.strokeStyle = "white"

    ctx.beginPath()
    for x in range(canvas.width):
        y = canvas.height/2 + A * math.sin((x / wavelength) + t * speed)
        ctx.lineTo(x, y)
    ctx.stroke()

    # Foam
    for i in range(40):
        cx = random.randint(0, canvas.width)
        cy = canvas.height/2 + A * math.sin((cx / wavelength) + t * speed)
        ctx.fillStyle = "rgba(255,255,255,0.6)"
        ctx.fillRect(cx, cy, 3, 3)

    window.requestAnimationFrame(draw)

window.requestAnimationFrame(draw)
    </py-script>
</body>
</html>


